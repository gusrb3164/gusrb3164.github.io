---
layout: post
title: esbuild는 왜 빠른가?(번역)
description: esbuild 공식문서에서 설명하는 esbuild가 4가지의 주요한 이유
categories: Web
tags: [Programming, Web]
---


이 글은 esbuild의 공식문서에서 설명하는 esbuild의 강점을 번역한 글입니다.
<https://esbuild.github.io/faq/>

## 1. Go언어를 기반으로 작성되었고 네이티브 코드 방식으로 컴파일 한다

대부분의 번들러는 JIT 컴파일 방식인 자바스크립트로 작성되었다. 이러한 방식은 command-line 응용 프로그램(기존의 번들러와 같은)에서는 최악의 성능을 보인다. 번들러를 실행할 때마다 자바스크립트 가상 머신이 최적화된 힌트가 하나도 없는채로 번들러의 코드를 수행하기 때문이다.

그래서 이러한 차이로 인해 노드(자바스크립트)기반의 번들러들은 자바스크립트를 번들링 하기 위해 번들러의 코드를 우선 분석하는동안 esbuild는 이미 그 과정을 끝내고 당신의 자바스크립트 코드를 파싱하게 된다. 그리고 노드가 번들러 코드 파싱을 끝내고 번들링을 시작하기도 전에 esbuild는 이미 번들링까지 마치고 종료되었을 것이다.

게다가 Go는 병렬처리를 위해 핵심부터 설계 되었지만 자바스크립트는 그렇지 않다. Go는 스레드간에 메모리를 공유하지만 자바스크립트는 스레드간의 데이터를 직렬화 해야한다.

Go와 자바스크립트는 병렬적인 가비지 컬렉터를 가지고 있지만, GO의 heap영역은 모든 스레드가 공유하고 자바스크립트의 heap영역은 각각의 스레드마다 독립적으로 가진다. 그래서 자바스크립트는 추측컨데 CPU 코어의 절반이 나머지 절반의 가비지 컬렉터를 위해 작동하느라 worker스레드들의 병렬 처리량이 반으로 줄어들 것이다.
